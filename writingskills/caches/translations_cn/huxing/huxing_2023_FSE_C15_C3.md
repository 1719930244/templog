# C3: Code Clone-based Identification of Duplicated Components
# C3：基于代码克隆的重复组件识别

**来源**: ESEC/FSE 2023 | **作者**: Yanming Yang 等

## 摘要
"重复造轮子"是软件开发中的一种有害编程实践，经常导致重复组件的引入，增加维护和人力成本，并带来更高的缺陷传播风险。现有方法在组件级别的克隆识别方面面临两大挑战：一是由于组件间体量差异大，难以度量相似性；二是确定组件的主要功能困难，导致功能克隆难以检测。本文提出了一种名为C3（Component-level Code Clone detector）的新方法，能够有效识别文本和功能层面的克隆组件，并开发了基于六个组件级克隆特征的评估方法，帮助开发者按重构必要性对克隆组件进行优先级排序。在华为大规模工业产品上的实验表明，C3在精确率（0.93）、召回率（0.91）和F1值（0.9）方面表现优异。

## 引言核心
- "重复造轮子"在工业界普遍存在，导致跨项目和项目内的重复组件，增加维护成本
- 现有代码克隆检测器仅支持行级、方法级和文件级检测，无法识别跨多个源文件的组件级克隆
- 组件间体量差异大，现有方法难以度量组件相似性
- 确定组件主要功能困难，导致功能克隆无法被检测
- 工业场景中开发者常因不了解已有方案或为规避风险而创建重复组件

## 方法概述
C3的整体流程分为两个阶段：组件级代码克隆检测和重构必要性评估。在克隆检测阶段，C3首先收集软件中的组件并检测文件级克隆，然后基于组件间克隆文件的数量计算组件相似度，构建图结构描述组件间的相似关系，最后利用基于图的聚类算法识别文本和功能克隆组件。

在重构必要性评估阶段，C3提出了六个组件级克隆特征来评估每个克隆组件的重构优先级。通过用户研究验证，该评估方法能够准确确定哪些克隆组件应优先进行重构，在所有三个评估指标上平均达到90%以上。

## 关键实验发现
- RQ1（有效性）：C3在华为工业产品（2,099个组件）上实现了精确率0.93、召回率0.91、F1值0.9的检测性能
- RQ2（评估方法）：用户研究表明评估方法与参与者反馈高度一致，六个"黄金特征"能准确优先排序需要重构的克隆组件

## 写作特征备注
- 标题结构：工具名:描述（C3: Code Clone-based Identification of Duplicated Components）
- 摘要是否有数字：是（精确率0.93、召回率0.91、F1值0.9、90%）
- 是否有RQ：是
- 是否有Motivating Example：是（两个工业场景 + 两对真实克隆组件示例）
- 贡献点数量：4

## 结论
C3是首个能够检测软件系统中文本和功能克隆组件的实用工具，其评估方法通过六个组件级克隆特征有效衡量克隆组件的重构必要性，在大规模工业产品上验证了其有效性和实用性。
