# Towards Better Answers: Automated Stack Overflow Post Updating
# 迈向更好的答案：自动化Stack Overflow帖子更新

**来源**: ICSE 2025 | **作者**: Yubo Mai 等

## 摘要
开发者在解决问题时常使用Stack Overflow（SO）上的代码片段，但这些代码片段并非完美，复用有问题的代码可能引入次优或有缺陷的代码。SO评论通常指出帖子的不足并提供改进建议，但这些评论往往被忽视。本文提出了SOUP（Stack Overflow Updator for Post）框架，解决两个关键任务：有效评论-编辑预测（VCP）和自动帖子更新（APU）。通过微调CodeLlama完成VCP任务，构建了包含78K有效评论-编辑对的数据集用于APU任务。实验结果表明SOUP在VCP任务上达到80.8%精确率和74.0%召回率，在APU任务上达到25.6%的精确匹配率。此外，向SO提交的50个编辑中有21个被维护者接受。

## 引言核心
- SO代码片段可能存在次优、过时或有缺陷的问题，如使用过时API或包含安全漏洞
- SO评论提供了改进答案的有价值信息，但仅4.6%的答案在评论后被编辑更新
- 现有Tang等人的匹配方法精确率仅57.1%、召回率仅12.6%，数据集质量无法保证
- 目前尚无针对基于评论自动更新SO帖子的研究
- 有些有问题的代码在SO上存在超过8年才被修正，期间被数千次访问

## 方法概述
SOUP框架分为两个阶段。第一阶段（VCP任务）：首先人工标注5K评论-编辑对，然后微调CodeLlama模型（使用LoRA低秩适应技术）来预测评论-编辑对是否有效。有效评论-编辑对的定义要求：评论与编辑相关、编辑解决了评论提出的所有问题、编辑不超出评论提及的范围。训练好的SOUPp模型自动构建包含78K有效评论-编辑对的高质量数据集。

第二阶段（APU任务）：使用上述高质量数据集微调LLM（SOUPu），给定修改前的帖子及其关联评论，自动生成修改后的代码片段。该框架聚焦于代码片段的更新，因为开发者对代码片段更感兴趣。

## 关键实验发现
- RQ1（VCP有效性）：SOUPp在VCP任务上达到80.8%精确率和74.0%召回率，相比Tang方法分别提升42%和487%
- RQ2（APU有效性）：SOUP在自动更新SO代码片段上达到25.6%精确匹配率，在改进类更新上表现尤为突出
- RQ3（数据集影响）：在SOUP数据集上训练的模型显著优于在Tang数据集上训练的同一模型
- RQ4（实际可接受性）：向SO提交50个未处理评论的编辑，21个被SO维护者接受，验证了实际价值

## 写作特征备注
- 标题结构：目标导向型（"Towards Better Answers" + 具体任务描述）
- 摘要是否有数字：是（78K、80.8%、74.0%、25.6%、50、21等）
- 是否有RQ：是（4个RQ）
- 是否有Motivating Example：是（Figure 1和Figure 2展示SO帖子示例）
- 贡献点数量：4

## 结论
SOUP框架通过LLM微调实现了高质量评论-编辑对预测和自动帖子更新，构建的78K数据集显著提升了模型性能，21个被接受的实际编辑验证了方法的实用价值。
