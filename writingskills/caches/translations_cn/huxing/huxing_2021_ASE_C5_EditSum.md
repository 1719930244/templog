# EditSum: A Retrieve-and-Edit Framework for Source Code Summarization
# EditSum：一种基于检索与编辑的源代码摘要生成框架

**来源**: ASE 2021 | **作者**: Jia Li 等

## 摘要
代码摘要旨在为源代码自动生成自然语言描述。现有研究表明代码摘要具有高度结构化和重复模式的特点（如"return true if..."），但现有神经网络模型在预测关键词方面表现不佳，导致生成的摘要信息量不足。本文提出了一种名为EditSum的检索-编辑方法，首先从预定义语料库中检索相似代码片段并将其摘要作为原型，然后通过编辑模块将原型中的模式与输入代码的语义信息相结合，生成更具信息量的摘要。在大规模Java语料库（2M）上的实验表明，EditSum显著优于现有最先进方法。

## 引言核心
- 代码摘要包含模式化词汇（patternized words）和关键词（keywords），两者对摘要质量都至关重要
- 现有神经网络模型擅长预测模式化词汇，但在预测关键词方面表现较差（人类摘要含低频词比例21%，模型仅7%）
- 关键词缺失导致生成的摘要信息量不足，影响程序理解
- 已有的检索增强方法仅将检索结果作为辅助信息，未能有效解决关键词问题
- 需要一种能同时利用模式和语义信息的方法来生成高质量摘要

## 方法概述
EditSum由两个模块组成：Retrieve模块和Edit模块。Retrieve模块使用BM25相似度度量，通过开源搜索引擎Lucene从大规模训练集中检索与输入代码最相似的代码片段，并将其摘要作为原型（prototype）。训练阶段采用基于摘要相似度的检索策略，保留Jaccard相似度在[0.3, 0.7]范围内的原型。

Edit模块是一个序列到序列的神经网络，通过计算编辑向量（edit vector）来表示输入代码与相似代码之间的语义差异。编辑向量由插入词嵌入和删除词嵌入的加权和拼接而成。模型基于编辑向量对原型摘要进行修改，将原型中的模式与输入代码的语义信息融合，生成最终摘要。

## 关键实验发现
- RQ1（有效性）：EditSum在BLEU、METEOR和ROUGE指标上显著优于IR基线和最先进的神经网络基线
- RQ2（人工评估）：人工评估证明EditSum生成的摘要更具信息量和实用性
- RQ3（关键词预测）：EditSum不仅能准确生成模式化词汇，还能生成更多关键词

## 写作特征备注
- 标题结构：工具名: 描述（EditSum: A Retrieve-and-Edit Framework...）
- 摘要是否有数字：是（2M语料库）
- 是否有RQ：否（实验部分按主题组织，未明确标注RQ）
- 是否有Motivating Example：是（Figure 1展示了输入代码与相似代码的对比示例）
- 贡献点数量：3

## 结论
EditSum通过检索-编辑范式有效结合了传统方法和神经网络模型的优势，在保留摘要模式的同时生成更多有意义的关键词，显著提升了代码摘要的信息量和实用性。
